# This file has been auto-generated by i3-config-wizard(1).
# It will not be overwritten, so edit it as you like.
#
# Should you change your keyboard layout some time, delete
# this file and re-run i3-config-wizard(1).
#

# i3 config file (v4)
#
# Please see https://i3wm.org/docs/userguide.html for a complete reference!

set $mod Mod4

set $dLeft DP-2
set $dCenter DP-4
set $dRight HDMI-0

# Whatever I happen to be working on at the moment
set $wMain "main"
# If I happen to need a second workspace for whatever I'm working on
set $wAlt "alt"
# Any references I need for whatever I'm working on
set $wRef "reference"
# Discord and telegram
set $wChats "chats"
# Dedicated place to go for taking notes. Easy with org-capture
set $wEmacs "emacs"
# Watching youtube videos/livestreams
set $wWatch "watch"
# Playing games. Minecraft/Steam
set $wPlay "play"
# Listening to music
set $wSpotify "spotify"

# I3's default workspaces. Keeping them just in case I need an anonymouse workspace for something
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"
set $ws10 "10"

#solarized dark colors, except purple
set $base03 #200036
set $base02 #2b0742
set $base01 #6a5875
set $base00 #766482
set $base0 #8f8396
set $base1 #9b92a1
set $base2 #e3d3ed
set $base3 #f2e3fc
set $red #dc322f
set $orange #cb4b16
set $green #859900
set $yellow #b58900
set $blue #268bd2
set $magenta #d33682
set $violet #6c71c4
set $cyan #2aa198

#=========#
## Modes ##
#=========#

# resize window (you can also use the mouse for that)
mode "resize" {
    # These bindings trigger as soon as you enter the resize mode

    # Pressing left will shrink the window’s width.
    # Pressing right will grow the window’s width.
    # Pressing up will shrink the window’s height.
    # Pressing down will grow the window’s height.
    bindsym h resize shrink width 10 px or 10 ppt
    bindsym j resize grow height 10 px or 10 ppt
    bindsym k resize shrink height 10 px or 10 ppt
    bindsym l resize grow width 10 px or 10 ppt

    bindsym Shift+h resize shrink width 1 px or 1 ppt
    bindsym Shift+j resize grow height 1 px or 1 ppt
    bindsym Shift+k resize shrink height 1 px or 1 ppt
    bindsym Shift+l resize grow width 1 px or 1 ppt

    # just in case, here's a reset (c for "center")
    bindsym c resize set 90 ppt 90 ppt, move position center

    # back to normal: Enter or Escape or $mod+r
    bindsym Return mode "default"
    bindsym Escape mode "default"
    bindsym $mod+r mode "default"
}

mode "i3" {
    bindsym Return mode "default"
    bindsym Escape mode "default"
    bindsym $mod+i mode "default"
    bindsym r mode "resize"

    # These are swapped to align better with vim (vertical split makes the split line vertical, not vertically stacked windows)
    # split in vertical orientation
    bindsym v split h; mode "default"
    # split in horizontal orientation
    bindsym s split v; mode "default"

    # enter fullscreen mode for the focused container
    bindsym f fullscreen toggle; mode "default"
    bindsym g floating toggle; mode "default"

    # change container layout (stacked, tabbed, toggle split)
    bindsym w layout tabbed; mode "default"
    bindsym e layout toggle split; mode "default"

    # reload the configuration file
    bindsym c reload; mode "default"
    # restart i3 inplace (preserves your layout/session, can be used to upgrade i3)
    bindsym Shift+r restart; mode "default"
    # exit i3 (logs you out of your X session)
    bindsym Shift+e exec "i3-nagbar -t warning -m 'You pressed the exit shortcut. Do you really want to exit i3? This will end your X session.' -b 'Yes, exit i3' 'i3-msg exit'"; mode "default"

    # Screen locking
    bindsym l mode "default"; exec --no-startup-id ~/scripts/lock.zsh

    #I don't use these like, ever
    # focus the parent container
    bindsym a focus parent
    # focus the child container
    bindsym d focus child
}

#=========#
## Binds ##
#=========#

# i3 default workspace movement
bindsym $mod+1 workspace $ws1
bindsym $mod+2 workspace $ws2
bindsym $mod+3 workspace $ws3
bindsym $mod+4 workspace $ws4
bindsym $mod+5 workspace $ws5
bindsym $mod+6 workspace $ws6
bindsym $mod+7 workspace $ws7
bindsym $mod+8 workspace $ws8
bindsym $mod+9 workspace $ws9
bindsym $mod+0 workspace $ws10

bindsym $mod+Shift+1 move container to workspace $ws1
bindsym $mod+Shift+2 move container to workspace $ws2
bindsym $mod+Shift+3 move container to workspace $ws3
bindsym $mod+Shift+4 move container to workspace $ws4
bindsym $mod+Shift+5 move container to workspace $ws5
bindsym $mod+Shift+6 move container to workspace $ws6
bindsym $mod+Shift+7 move container to workspace $ws7
bindsym $mod+Shift+8 move container to workspace $ws8
bindsym $mod+Shift+9 move container to workspace $ws9
bindsym $mod+Shift+0 move container to workspace $ws10

# My workspaces
bindsym $mod+m workspace $wMain
bindsym $mod+a workspace $wAlt
bindsym $mod+r workspace $wRef
bindsym $mod+c workspace $wChats
bindsym $mod+e workspace $wEmacs
bindsym $mod+w workspace $wWatch
bindsym $mod+p workspace $wPlay
bindsym $mod+s workspace $wSpotify

bindsym $mod+Shift+m move container to workspace $wMain
bindsym $mod+Shift+a move container to workspace $wAlt
bindsym $mod+Shift+r move container to workspace $wRef
bindsym $mod+Shift+c move container to workspace $wChats
bindsym $mod+Shift+e move container to workspace $wEmacs
bindsym $mod+Shift+w move container to workspace $wWatch
bindsym $mod+Shift+p move container to workspace $wPlay
bindsym $mod+Shift+s move container to workspace $wSpotify

# change focus
bindsym $mod+h focus left
bindsym $mod+j focus down
bindsym $mod+k focus up
bindsym $mod+l focus right
# move focused window
bindsym $mod+Shift+h move left
bindsym $mod+Shift+j move down
bindsym $mod+Shift+k move up
bindsym $mod+Shift+l move right

bindsym $mod+Shift+comma move workspace to output left
bindsym $mod+Shift+period move workspace to output right

# close window
bindsym $mod+q kill; mode "default"

# mode keybinds
bindsym $mod+i mode "i3"

# toggle tiling / floating
bindsym $mod+g focus mode_toggle

# start a terminal
bindsym $mod+Return exec termite

# start rofi (a program launcher)
bindsym $mod+space exec --no-startup-id rofi -show drun

# Screenshots
bindsym --release ctrl+Print exec --no-startup-id ~/scripts/screenshot.sh
bindsym --release Print exec --no-startup-id ~/scripts/fullscreenshot.sh
# Audio and Music
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +2% && pkill -RTMIN+10 i3blocks #increase sound volume
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -2% && pkill -RTMIN+10 i3blocks #decrease sound volume
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle && pkill -RTMIN+10 i3blocks # mute sound
# Media player controls
bindsym XF86AudioPlay exec --no-startup-id playerctl play-pause
bindsym XF86AudioNext exec --no-startup-id playerctl next
bindsym XF86AudioPrev exec --no-startup-id playerctl previous

bindsym $mod+z scratchpad show

#======================#
## Workspace Settings ##
#======================#

workspace $wMain output $dCenter
workspace $wAlt output $dCenter
workspace $wRef output $dLeft
workspace $wChats output $dRight
workspace $wEmacs output $dCenter
workspace $wWatch output $dRight
workspace $wPlay output $dCenter
workspace $wSpotify output $dRight

assign [class="^Emacs"] $wEmacs
assign [class="^TelegramDesktop"] $wChats
assign [class="^discord"] $wChats
assign [class="^Spotify$"] $wSpotify
for_window [class="^Spotify$"] move container to workspace $wSpotify

#============#
## Settings ##
#============#

# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
# font pango:monospace 8
font pango: Source Sans Pro, FontAwesome 8

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod
focus_follows_mouse yes
focus_on_window_activation urgent
mouse_warping output
workspace_auto_back_and_forth yes

# Settings for specific windows
for_window [class=".*"] title_format "%title -|- %class -|- %instance"
for_window [title="^SCREENSHOT$" class="^feh$"] floating enable, move absolute position 0 0

gaps inner 10
gaps outer 15

default_border pixel 4
# class                 border  backgr. text    indicator child_border
client.focused          $base2  $base2  $base02 $green    $violet
client.focused_inactive $base01 $base01 $base1  $base00   $base01
client.unfocused        $base02 $base02 $base0  $base02   $base02
client.urgent           $orange $red    $base2  $orange   $orange
client.placeholder      $base03 $base03 $base03 $base03   $base03

client.background       $base03

#=======#
## Bar ##
#=======#

# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
bar {
    font pango: Source Sans Pro, FontAwesome 8
    tray_output primary
    tray_padding 0
    position bottom
    mode hide
    status_command i3blocks
    i3bar_command i3bar -t
    height 25
    separator_symbol "-|-"
    strip_workspace_numbers yes
    colors {
        background $base02
        statusline $base1
        separator $magenta

        # class            border   background  text
        focused_workspace  $base03  $base1      $base02
        active_workspace   $base01  $base03     $base3
        inactive_workspace $base01  $base03     $base1
        urgent_workspace   $orange  $red        $base02
        binding_mode       $base01  $yellow     $base02
    }
}

#===========#
## startup ##
#===========#

exec --no-startup-id xdotool key Num_Lock
exec --no-startup-id "~/scripts/fehbg.sh"
exec dex -a -e i3
exec --no-startup-id xautolock -time 9 -locker '~/scripts/lock' &
